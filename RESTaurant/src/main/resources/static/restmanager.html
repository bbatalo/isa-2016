<!DOCTYPE html>
<html ng-app="restmanager" ng-controller="RestManagerController as rmCtrl">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>RESTaurant Restaurant Manager</title>
		
		<script src="/webjars/angularjs/1.4.9/angular.js"></script>
		<script src="/webjars/angularjs/1.4.9/angular-resource.js"></script>
		<script src="/webjars/angularjs/1.4.9/angular-route.js"></script>
		<script src="js/restmanager.js" type="text/javascript"></script>
		
		<link rel="stylesheet" href="css/restmanager.css"></link>
		<link rel="stylesheet" href="/webjars/bootstrap/3.3.6/css/bootstrap.css">
	</head>
	<body ng-controller="TabController as tab">
		<nav class="navbar navbar-inverse">
	  		<div class="container-fluid">
	    		<div class="navbar-header">
	     			 <a class="navbar-brand" href="restmanager.html">Home</a>
	   			 </div>
	   			<section>
		    		<ul class="nav navbar-nav">
		    			<li ng-class="{active:tab.isSet(1)}"><a class="navbar-brand" href ng-click="tab.setTab(1)">Home</a></li>
		    			<li ng-class="{active:tab.isSet(2)}"><a class="navbar-brand" href ng-click="tab.setTab(2)">Restaurant</a></li>
		    			<li ng-class="{active:tab.isSet(3)}"><a class="navbar-brand" href ng-click="tab.setTab(3)">Menu</a></li>
		    			<li ng-class="{active:tab.isSet(4)}"><a class="navbar-brand" href ng-click="tab.setTab(4)">Drinks</a></li>
		    		</ul>
	    		</section>
	    		<ul class="nav navbar-nav navbar-right">
	     			<li><a class="btn" ng-click="rmCtrl.logout()"><span class="glyphicon glyphicon-log-in"></span> Logout</a></li>
	    		</ul>
	  		</div>
		</nav>
		<div ng-show="tab.isSet(2)"  ng-controller="RestaurantController as restaurantCtrl" ng-init="">
			<div class="row">
	  		<div class="col-sm-3"></div>
	  		<div class="col-sm-5">
	  			<div class="panel-group">
			  		<div class="panel panel-default">
			  			<div class="panel-heading">Mandatory</div>
				  		<div class="panel-body">
				  			<form name="restaurantNameForm" class="form-horizontal" ng-submit="restaurantNameForm.$valid && restaurantCtrl.update(0)" novalidate>
				  				<div class="form-group">
				  					<label class="control-label col-sm-3">Name:</label>
				  					<div class="col-sm-9">
				  						<input ng-model="restaurantCtrl.form.name" type="text" class="form-control" placeholder="Name" required></input>
				  					</div>
				  				</div>
				  				<div class="col-sm-10"></div>
								<div class="form-group col-sm-2">
		                				<input  type="submit" class="btn btn-md btn-primary pull-right" value="Change name" />
		              			</div>
				  			</form>
				  		</div>
			  		</div>
				  	<div class="panel panel-default">
				  		<div class="panel-heading">Optional</div>
					  	<div class="panel-body">
					  		<form name="detailsForm" class="form-horizontal" ng-submit="detailsForm.$valid && restaurantCtrl.update(1)" novalidate>
					  			<div class="form-group">
					  				<label class="control-label col-sm-3">Restaurant type:</label>
					  				<div class="col-sm-9">
					  					<input ng-model="restaurantCtrl.form.type" type="text" class="form-control" placeholder="Restaurant type" required></input>
					  				</div>
					  			</div>
					  			<div class="form-group">
					  				<label class="control-label col-sm-3">Description:</label>
					  				<div class="col-sm-9">
					  					<input ng-model="restaurantCtrl.form.description" type="text" class="form-control" placeholder="Description" required></input>
					  				</div>
					  			</div>
					  			<div class="col-sm-10"></div>
								<div class="form-group col-sm-2">
			                			<input  type="submit" class="btn btn-md btn-primary pull-right" value="Apply changes" />
			              		</div>
					  		</form>
					  	</div>
				  	</div>
		  		</div>
	  		</div>
	  		<div class="col-sm-4"></div>
	  	</div>
		
		</div>
		<div ng-controller="MenuController as menuCtrl"  ng-show="tab.isSet(3)">
			  	<div class="row">
			  		<div class="col-sm-4"></div>
			  		<div class="col-sm-4">
						<div class="panel panel-default">
							<div class="panel-body">
								<form name="addDishForm" ng-submit="addDishForm.$valid && menuCtrl.register()" class="form-signin" novalidate >
									<h3>Add dish to menu.</h3>
									<fieldset class="form-group">
										<input ng-model="menuCtrl.dish.label" type="text" class="form-control" placeholder="Label" required></input>
									</fieldset>
									<fieldset class="form-group">
										<input ng-model="menuCtrl.dish.description" type="text" class="form-control" placeholder="Description" required></input>
									</fieldset>
									<fieldset class="form-group">
										<textarea rows="4" ng-model="menuCtrl.dish.price" type="number" class="form-control" placeholder="Price" required></textarea>
									</fieldset>
									<fieldset class="form-group">
		                				<input  type="submit" class="btn btn-lg btn-primary btn-block pull-right" value="Add" />
		              				</fieldset>
									<hr></hr>
									<fieldset><div></div>{{menuCtrl.result}}</fieldset><br />
								</form>
							</div>
						</div>
			  		</div>
			  		<div class="col-sm-4"></div>
			  	</div>
			  	<div class="row">
			  		<div class="col-sm-2"></div>
			  		<div class="col-sm-8">
			  			<h3>Menu</h3>
				  		<table class="table table-hover">
							<thead>
								<tr>
									<th>Label</th>
									<th>Description</th>
									<th>Price</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="dish in menuCtrl.dishes">
									<td>{{dish.label}}</td>
									<td>{{dish.description}}</td>
									<td>{{dish.price}}</td>
									<td><input  type="button" class="btn btn-danger" value="Remove" ng-click="menuCtrl.removeDish(dish)"/></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="col-sm-2"></div>
			  	</div>
		  	</div>
	</body>
</html>